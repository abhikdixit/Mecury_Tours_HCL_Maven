pipeline {
   agent any

   stages {
      stage('Build') 
	{
         steps 
	{
            echo "Building the code....."
	    bat "mvn clean"
         }
	}
      stage('Test') 
	{
         steps 
	{
            // Get some code from a GitHub repository
            git 'https://github.com/abhikdixit/Mecury_Tours_HCL_Maven.git'

            // Run Maven on a Unix agent.
           // sh "mvn -Dmaven.test.failure.ignore=true clean package"

            // To run Maven on a Windows agent, use
            bat "mvn -Dmaven.test.failure.ignore=true clean package"
         }
	}

      stage('Compile') 
	{
         steps 
	{
            echo "Compiling the code....."
	    bat "mvn compile"
         }
	}
}
}
